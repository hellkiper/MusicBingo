/* Animated Background Gradient */
.hero-bg-gradient {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 50%, rgba(255, 105, 180, 0.4), rgba(209, 46, 135, 0.1), transparent 70%);
    z-index: -1;
    animation: bg-breathe 8s ease-in-out infinite alternate;
    pointer-events: none;
}

@keyframes bg-breathe {
    0% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 0.7; }
    100% { transform: scale(1); opacity: 0.5; }
}

/* Floating Hearts */
.floating-hearts {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
}

.heart {
    position: absolute;
    opacity: 0.5;
    /* Base blur for all hearts + shadow */
    filter: blur(3px) drop-shadow(0 0 5px rgba(255, 105, 180, 0.5));
    animation: heart-float 12s ease-in-out infinite alternate;
}

/* Specific adjustments: varying blur slightly and positions */
.heart-1 { width: 80px; top: 5%; left: 5%; transform: rotate(-15deg); animation-duration: 14s; filter: blur(4px); }
.heart-2 { width: 60px; top: 15%; right: 10%; transform: rotate(10deg); animation-duration: 16s; animation-delay: -2s; filter: blur(2px); }
.heart-3 { width: 90px; bottom: 20%; left: 8%; transform: rotate(-5deg); animation-duration: 18s; animation-delay: -5s; filter: blur(5px); }
.heart-4 { width: 50px; bottom: 10%; right: 15%; transform: rotate(20deg); animation-duration: 15s; animation-delay: -1s; filter: blur(3px); }
.heart-5 { width: 70px; top: 25%; left: 20%; transform: rotate(-10deg); animation-duration: 13s; animation-delay: -7s; filter: blur(4px); }
.heart-6 { width: 40px; top: 40%; right: 5%; transform: rotate(15deg); animation-duration: 17s; animation-delay: -3s; filter: blur(2px); }
.heart-7 { width: 85px; bottom: 30%; right: 25%; transform: rotate(-20deg); animation-duration: 19s; animation-delay: -9s; filter: blur(5px); }
.heart-8 { width: 55px; top: 10%; left: 35%; transform: rotate(5deg); animation-duration: 14s; animation-delay: -4s; filter: blur(3px); }
.heart-9 { width: 45px; bottom: 5%; left: 30%; transform: rotate(-8deg); animation-duration: 16s; animation-delay: -6s; filter: blur(2px); }
.heart-10 { width: 75px; top: 50%; left: 5%; transform: rotate(12deg); animation-duration: 15s; animation-delay: -2s; filter: blur(4px); }
.heart-11 { width: 65px; top: 60%; right: 8%; transform: rotate(-15deg); animation-duration: 18s; animation-delay: -8s; filter: blur(3px); }
.heart-12 { width: 95px; top: 5%; right: 30%; transform: rotate(8deg); animation-duration: 20s; animation-delay: -1s; filter: blur(5px); }
.heart-13 { width: 35px; bottom: 40%; left: 15%; transform: rotate(-25deg); animation-duration: 13s; animation-delay: -5s; filter: blur(2px); }
.heart-14 { width: 50px; top: 30%; right: 35%; transform: rotate(18deg); animation-duration: 17s; animation-delay: -3s; filter: blur(3px); }
.heart-15 { width: 70px; bottom: 15%; right: 40%; transform: rotate(-10deg); animation-duration: 15s; animation-delay: -7s; filter: blur(4px); }

@keyframes heart-float {
    0% { transform: translateY(0) rotate(var(--r, 0deg)) scale(1); }
    100% { transform: translateY(-30px) rotate(calc(var(--r, 0deg) + 10deg)) scale(1.1); }
}

:root {
    --primary-pink: #ff69b4;
    --deep-pink: #d12e87;
    --light-pink: #ffc0cb;
    --white: #ffffff;
    --gold: #ffd700;
    --glass-bg: rgba(255, 255, 255, 0.15);
    --glass-border: rgba(255, 255, 255, 0.3);
    --shadow-color: rgba(209, 46, 135, 0.4);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Comfortaa', sans-serif;
    color: var(--white);
    background-color: #fce4ec; 
    height: 100vh;
    overflow: hidden;
    position: relative;
}

body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: url('assets/background.jpg') no-repeat center center fixed;
    background-size: cover;
    z-index: -2;
}

body::after {
    content: '';
    position: fixed;
    inset: 0;
    /* Reduced opacity of the gradient and made the center completely transparent */
    background: radial-gradient(circle, transparent 50%, rgba(0,0,0,0.4) 100%);
    z-index: 1; /* Moved below content */
    pointer-events: none;
}

.bg-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0);
    z-index: 80;
    pointer-events: none;
}

.hidden {
    display: none !important;
}

/* Page Transitions */
.page {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 20px;
    opacity: 1;
    transition: opacity 0.8s ease, transform 0.8s ease;
}

.page.hidden {
    opacity: 0;
    pointer-events: none;
    transform: scale(0.95);
}

.page::-webkit-scrollbar {
    display: none;
}

/* Hero Section */
.page-hero {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    text-align: center;
    /* Removed perspective */
}

.hero-content {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    width: 100%;
    max-width: 600px;
    /* Removed 3D tilt styles */
}

/* Gentle Pulse Animation for Title */
@keyframes title-pulse {
    0%, 100% { transform: scale(1); filter: brightness(1); }
    50% { transform: scale(1.05); filter: brightness(1.1); }
}

@keyframes title-glare {
    0% {
        background-position: 120% 0;
    }
    100% {
        background-position: -20% 0;
    }
}

.hero-title-wrapper {
    position: relative;
    margin-bottom: 20px;
    animation: title-pulse 4s infinite ease-in-out;
}

.hero-title-main {
    font-family: 'Montserrat', sans-serif;
    font-weight: 900;
    font-size: 8rem; /* Increased from 6rem */
    line-height: 0.9;
    
    color: var(--deep-pink); /* Fallback color */
    background: linear-gradient(110deg, var(--deep-pink) 45%, #fff 50%, var(--deep-pink) 55%);
    background-size: 250% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: title-glare 5s infinite linear;

    text-transform: uppercase;
    /* Using drop-shadow filter instead of text-shadow for better compatibility with background-clip */
    filter: drop-shadow(0 0 10px rgba(255,255,255,0.8)) drop-shadow(0 0 30px rgba(255, 20, 147, 0.6));
    
    letter-spacing: -2px;
}

.hero-title-sub {
    font-family: 'Montserrat', sans-serif;
    font-weight: 900;
    font-size: 11rem; /* Increased from 8rem */
    line-height: 0.85; /* Adjusted line-height */
    
    color: var(--primary-pink); /* Fallback */
    background: linear-gradient(110deg, var(--primary-pink) 45%, #fff 50%, var(--primary-pink) 55%);
    background-size: 250% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: title-glare 5s infinite linear;
    animation-delay: 0.5s; /* Slight offset for visual interest */

    text-transform: uppercase;
    filter: drop-shadow(0 0 10px rgba(255,255,255,0.8)) drop-shadow(0 0 30px rgba(255, 105, 180, 0.7));
    
    letter-spacing: -3px;
    margin-top: -15px; /* Adjusted margin */
}

.hero-subtitle {
    font-family: 'Pacifico', cursive;
    font-size: 2.5rem;
    color: var(--white);
    transform: rotate(-5deg);
    position: absolute;
    right: -20px;
    bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    background: rgba(255, 105, 180, 0.8);
    padding: 0 15px;
    border-radius: 20px;
}

/* Vinyl Record Element */
.vinyl-record {
    width: 200px;
    height: 200px;
    background: repeating-radial-gradient(
        #ffc0cb,
        #ffc0cb 2px,
        #ffb6c1 3px,
        #ffb6c1 4px
    );
    border-radius: 50%;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 10px 0;
}

.vinyl-label {
    width: 80px;
    height: 80px;
    background: var(--deep-pink);
    border-radius: 50%;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

.vinyl-hole {
    width: 15px;
    height: 15px;
    background: #fff;
    border-radius: 50%;
}

/* Buttons */
/* Pulse Animation */
@keyframes pulse-scale {
    0% { transform: scale(1); box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4); }
    50% { transform: scale(1.05); box-shadow: 0 10px 25px rgba(255, 20, 147, 0.6); }
    100% { transform: scale(1); box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4); }
}

.primary-btn-pink {
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: 2rem;
    padding: 1.5rem 4rem;
    color: var(--white);
    background: linear-gradient(135deg, var(--primary-pink), var(--deep-pink));
    border: 4px solid rgba(255,255,255,0.5);
    border-radius: 60px;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(255, 20, 147, 0.4);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    text-transform: uppercase;
    animation: pulse-scale 4s infinite ease-in-out;
    text-shadow: 0 0 10px rgba(255,255,255,0.8), 0 0 20px rgba(255,255,255,0.4);
}

.primary-btn-pink:hover {
    box-shadow: 0 8px 25px rgba(255, 20, 147, 0.8);
    background: linear-gradient(135deg, var(--deep-pink), var(--primary-pink));
}

.primary-btn-pink:hover {
    /* Pausing animation on hover keeps it in sync when resumed, but scaling manually might break visual sync.
       Instead, let's keep the animation running but modify its intensity via variable or just let it be.
       Actually, the requirement is "start identically" - CSS animations usually sync if duration is same.
       To keep rhythm even after hover, we should probably NOT remove the animation on hover,
       but rather enhance the effect within the animation keyframes or just let the transform add up.
       However, simplest way to ensure rhythm is to not stop animation, or restart it.
       Let's keep animation running on hover but add !important or similar to override transform if needed, 
       OR just let the hover scale be part of the effect.
       
       Better approach for "same rhythm": 
       Don't stop animation on hover. Just enhance the scale in the hover state via a separate transform property if possible, 
       but transform overwrites. 
       Let's try removing the 'animation: none' on hover and instead just letting the pulse continue,
       maybe just changing box-shadow on hover. */
    box-shadow: 0 8px 25px rgba(255, 20, 147, 0.8);
    background: linear-gradient(135deg, var(--deep-pink), var(--primary-pink));
}

.event-details {
    margin-top: 20px;
    background: rgba(255, 255, 255, 0.9);
    padding: 15px 25px;
    border-radius: 15px;
    width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    color: var(--deep-pink);
    font-family: 'Montserrat', sans-serif;
    font-weight: 600;
    font-size: 0.9rem;
    box-shadow: 0 5px 20px rgba(0,0,0,0.05);
}

.detail-row span {
    color: var(--primary-pink);
    font-weight: 800;
}

.detail-row.full-width {
    grid-column: 1 / -1;
    text-align: center;
    margin-top: 5px;
    font-size: 0.8rem;
    background: var(--light-pink);
    color: var(--deep-pink);
    padding: 8px;
    border-radius: 8px;
}

/* Grid Page */
.page-grid {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 40px;
}

.top-bar {
    margin-bottom: 30px;
    text-align: center;
}

.page2-title {
    font-family: 'Montserrat', sans-serif;
    font-weight: 900;
    font-size: 2.5rem;
    color: var(--white);
    text-shadow: 0 2px 10px rgba(255, 20, 147, 0.5);
    margin-bottom: 10px;
}

.page2-progress {
    font-family: 'Comfortaa', sans-serif;
    font-size: 1.2rem;
    color: var(--white);
    background: rgba(255, 255, 255, 0.2);
    padding: 5px 15px;
    border-radius: 20px;
    display: inline-block;
}

#selectedCount {
    font-weight: bold;
    color: var(--gold);
}

.barrel-grid {
    display: grid;
    grid-template-columns: repeat(11, 1fr);
    gap: 10px;
    max-width: 1000px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 30px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    margin-bottom: 30px;
}

.barrel {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.9);
    border: none;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.barrel:hover {
    transform: scale(1.15);
    box-shadow: 0 8px 20px rgba(255, 20, 147, 0.3);
    z-index: 10;
}

.barrel.used {
    background: var(--deep-pink);
    opacity: 0.8;
}

.barrel-number {
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: 1.4rem;
    color: var(--deep-pink);
}

.barrel.used .barrel-number {
    color: var(--white);
}

/* Song Page */
.page-song {
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0,0,0,0.2); 
    /* Darken bg slightly for contrast */
}

.song-card {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 40px;
    padding: 40px;
    width: 100%;
    max-width: 450px;
    text-align: center;
    box-shadow: 0 20px 50px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 25px;
}

.cover-wrap {
    width: 300px;
    height: 300px;
    border-radius: 30px;
    overflow: hidden;
    box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    border: 4px solid rgba(255, 255, 255, 0.2);
}

#songCover {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.song-meta {
    width: 100%;
}

.song-number {
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: 1.2rem;
    color: var(--light-pink);
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 5px;
}

#songTitle {
    font-family: 'Montserrat', sans-serif;
    font-weight: 800;
    font-size: 2rem;
    color: var(--white);
    line-height: 1.1;
    margin-bottom: 5px;
}

#songArtist {
    font-family: 'Comfortaa', sans-serif;
    font-size: 1.3rem;
    color: var(--gold);
}

/* Audio Player */
.audio-player {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

.progress-container {
    width: 100%;
}

.progress-line {
    width: 100%;
    height: 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    position: relative;
    cursor: pointer;
}

.progress-fill-minimal {
    height: 100%;
    background: var(--primary-pink);
    border-radius: 3px;
    width: 0%;
}

.progress-slider-minimal {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0;
    cursor: pointer;
}

.audio-time-minimal {
    display: flex;
    justify-content: flex-end;
    margin-top: 5px;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.8);
}

.play-pause-btn-minimal {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    background: var(--white);
    color: var(--deep-pink);
    border: none;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    transition: transform 0.2s;
}

.play-pause-btn-minimal:hover {
    transform: scale(1.1);
}

.play-pause-btn-minimal svg {
    width: 30px;
    height: 30px;
    fill: currentColor;
    margin-left: 2px; /* Visual adjustment for play icon */
}

/* Animations */
.bingo-animation-page2 {
    position: fixed;
    inset: 0;
    z-index: 50;
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0,0,0,0.8);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s;
}

.bingo-animation-page2.active {
    opacity: 1;
    pointer-events: auto;
}

.bingo-text-page2 {
    font-family: 'Montserrat', sans-serif;
    font-weight: 900;
    font-size: 8rem;
    color: var(--primary-pink);
    text-shadow: 0 0 30px var(--primary-pink);
    letter-spacing: 10px;
}

/* Particle Styles */
.song-particle {
    pointer-events: none;
}

.victory-confetti {
    position: absolute;
    pointer-events: none;
    z-index: 60;
}

/* Responsive */
@media (max-width: 1000px) {
    .barrel-grid {
        grid-template-columns: repeat(8, 1fr);
    }
}

@media (max-width: 768px) {
    .hero-title-main { font-size: 4rem; }
    .hero-title-sub { font-size: 5.5rem; }
    .hero-subtitle { font-size: 1.8rem; }
    .vinyl-record { width: 150px; height: 150px; }
    
    .barrel-grid {
        grid-template-columns: repeat(6, 1fr);
        gap: 8px;
        padding: 10px;
    }
    .barrel {
        width: 45px;
        height: 45px;
    }
    .barrel-number {
        font-size: 1rem;
    }
    
    .page2-title {
        font-size: 1.8rem;
    }
    
    .song-card {
        padding: 20px;
    }
    .cover-wrap {
        width: 250px;
        height: 250px;
    }
    #songTitle {
        font-size: 1.5rem;
    }
}

@media (max-width: 480px) {
    .barrel-grid {
        grid-template-columns: repeat(5, 1fr);
    }
    .event-details {
        grid-template-columns: 1fr;
        text-align: center;
    }
}

.song-background-effects {
    position: absolute;
    inset: 0;
    z-index: -1;
    pointer-events: none;
}

/* Start Animation (Bingo Overlay) */
.bingo-animation {
    position: fixed;
    inset: 0;
    z-index: 100;
    display: flex;
    justify-content: center;
    align-items: center;
    background: url('assets/background.jpg') no-repeat center center;
    background-size: cover;
    transition: opacity 1s ease;
}

.bingo-animation.darken::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.5);
    transition: opacity 0.8s;
}

.bingo-text {
    font-family: 'Montserrat', sans-serif;
    font-weight: 900;
    font-size: 15vw;
    color: var(--white);
    text-shadow: 0 0 20px var(--primary-pink);
    display: flex;
    gap: 10px;
    z-index: 10;
}

.bingo-snow {
    position: absolute;
    background: #fff;
    border-radius: 50%;
    pointer-events: none;
    z-index: 5;
    animation: fall linear forwards;
}

@keyframes fall {
    to { transform: translateY(110vh); }
}

/* Music Notes */
.music-notes {
    position: absolute;
    inset: 0;
    pointer-events: none;
    /* Add logic to spawn notes if needed, or just keep as placeholder for JS particles */
}
/* Ambient Blobs (Glassmorphism) removed */

/* Star Dust (Sparkles) */
.hero-sparkles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
}

.sparkle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: white;
    border-radius: 50%;
    box-shadow: 
        0 0 10px white, 
        0 0 20px var(--gold);
    opacity: 0;
    animation: sparkle-twinkle 4s infinite ease-in-out;
}

/* Use pseudo-elements to make a cross/star shape */
.sparkle::before, .sparkle::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    background: inherit;
    border-radius: inherit;
    transform: translate(-50%, -50%);
}
.sparkle::before { height: 14px; width: 2px; }
.sparkle::after { width: 14px; height: 2px; }

@keyframes sparkle-twinkle {
    0% { opacity: 0; transform: scale(0) rotate(0deg); }
    50% { opacity: 1; transform: scale(1) rotate(45deg); }
    100% { opacity: 0; transform: scale(0) rotate(90deg); }
}

/* Sparkle Positions */
.s1 { top: 20%; left: 20%; animation-delay: 0s; }
.s2 { top: 30%; right: 25%; animation-delay: 1.5s; }
.s3 { bottom: 30%; left: 15%; animation-delay: 2.5s; }
.s4 { top: 15%; right: 15%; animation-delay: 0.5s; }
.s5 { bottom: 20%; right: 35%; animation-delay: 3s; }
.s6 { top: 60%; left: 40%; animation-delay: 1s; }
.s7 { bottom: 10%; right: 10%; animation-delay: 2s; }
.s8 { top: 40%; left: 10%; animation-delay: 3.5s; }
